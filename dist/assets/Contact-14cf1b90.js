import{R as _,d as N,r as u,j as p,a as o,E as S}from"./app-d8c048de.js";import{s as j}from"./styles-bea25d13.js";import{S as q,s as h}from"./SectionWrapper-36b87266.js";import{m as g}from"./motion-c73dbf47.js";const c={_origin:"https://api.emailjs.com"},M=(t,e="https://api.emailjs.com")=>{c._userID=t,c._origin=e},v=(t,e,s)=>{if(!t)throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!e)throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!s)throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates";return!0};class x{constructor(e){this.status=e?e.status:0,this.text=e?e.responseText:"Network Error"}}const y=(t,e,s={})=>new Promise((i,a)=>{const n=new XMLHttpRequest;n.addEventListener("load",({target:r})=>{const l=new x(r);l.status===200||l.text==="OK"?i(l):a(l)}),n.addEventListener("error",({target:r})=>{a(new x(r))}),n.open("POST",c._origin+t,!0),Object.keys(s).forEach(r=>{n.setRequestHeader(r,s[r])}),n.send(e)}),T=(t,e,s,i)=>{const a=i||c._userID;return v(a,t,e),y("/api/v1.0/email/send",JSON.stringify({lib_version:"3.11.0",user_id:a,service_id:t,template_id:e,template_params:s}),{"Content-type":"application/json"})},E=t=>{let e;if(typeof t=="string"?e=document.querySelector(t):e=t,!e||e.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of form";return e},z=(t,e,s,i)=>{const a=i||c._userID,n=E(s);v(a,t,e);const r=new FormData(n);return r.append("lib_version","3.11.0"),r.append("service_id",t),r.append("template_id",e),r.append("user_id",a),y("/api/v1.0/email/send-form",r)},C={init:M,send:T,sendForm:z};var b={},A=/^[-!#$%&'*+\/0-9=?A-Z^_a-z{|}~](\.?[-!#$%&'*+\/0-9=?A-Z^_a-z`{|}~])*@[a-zA-Z0-9](-*\.?[a-zA-Z0-9])*\.[a-zA-Z](-?[a-zA-Z0-9])+$/;b.validate=function(t){if(!t||t.length>254)return!1;var e=A.test(t);if(!e)return!1;var s=t.split("@");if(s[0].length>64)return!1;var i=s[1].split(".");return!i.some(function(a){return a.length>63})};const F=()=>{const t=N(),[e,s]=u.useState(!1),i=u.useRef(),[a,n]=u.useState({name:"",email:"",message:""}),r=d=>{const{target:m}=d,{name:f,value:w}=m;n({...a,[f]:w})},l=d=>{if(d.preventDefault(),s(!0),!b.validate(a.email)){alert("Please enter a valid email address."),s(!1);return}C.send("service_h5mfpbm","template_8gqcrzj",{from_name:a.name,to_name:"Boa Matule",from_email:a.email,to_email:"boa.matule@gmail.com",message:a.message},"3zgiftRNu-bm6HAj0").then(m=>{s(!1),console.log(m.text),t("/Success",{state:{successMessage:"Message sent successfully!"}}),console.log("Message sent! Rejoice!"),setTimeout(()=>{t("/")},3e3),n({name:"",email:"",message:""})}).catch(m=>{s(!1),console.log(m.text),alert("Ops! Something went terribly wrong, please try again")}),d.target.reset()};return p("div",{className:"xl:mt-12 xl:flex-row flex-col-reverse flex gap-10 overflow-hidden",children:[p(g.div,{variants:h("left","tween",.2,1),className:"flex-[0.75] bg-black-100 p-8 rounded-2xl",children:[o("h2",{className:`${j.sectionHeadText} dark:text-gray-400`,children:"Projects."}),p("form",{ref:i,onSubmit:l,className:"flex flex-col gap-4 mt-12",children:[o("label",{className:"flex flex-col",children:o("input",{className:"bg-tertiary rounded-lg py-4 px-6 text-white outline-none placeholder:text-secondary border-none font-medium",type:"text",name:"name",value:a.name,onChange:r,placeholder:"What's your name",required:!0})}),o("label",{className:"flex flex-col",children:o("input",{className:"bg-tertiary rounded-lg py-4 px-6 text-white outline-none placeholder:text-secondary border-none font-medium",type:"email",name:"email",value:a.email,onChange:r,placeholder:"What's your Email",required:!0})}),o("label",{className:"flex flex-col",children:o("textarea",{className:"bg-tertiary rounded-lg py-4 px-6 text-white outline-none placeholder:text-secondary border-none font-medium",rows:"7",type:"text",name:"message",value:a.message,onChange:r,placeholder:"What are you looking for today?",required:!0})}),o("button",{type:"submit",className:"bg-tertiary rounded-xl py-3 px-8 text-white outline-none border-none font-medium shadow-md shadow-primary w-fit",children:e?"Sending...":"Send Message"})]})]}),o(g.div,{variants:h("right","tween",.2,1),className:"xl:flex-1 xl:h.auto md:h-[550px] h-[350px]",children:o(S,{})})]})},L=_.memo(q(F,"contact"));export{L as default};
