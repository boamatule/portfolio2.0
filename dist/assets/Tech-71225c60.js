import{B as X,V as T,M as U,b as z,u as Z,c as W,T as F,r as c,d as q,E as I,e as G,O as J,f as K,g as Q,m as Y,h as v,j as R,C as V,a as w,i as tt,k as et,P as ot}from"./index-b0c9de15.js";import{t as rt}from"./index-e953b3c5.js";import{S as st}from"./SectionWrapper-98931f92.js";import"./styles-bea25d13.js";import"./motion-e9d1ba78.js";class nt extends X{constructor(f,h,d,b){super();const y=[],M=[],j=[],i=new T,O=new U;O.makeRotationFromEuler(d),O.setPosition(h);const B=new U;B.copy(O).invert(),k(),this.setAttribute("position",new z(y,3)),this.setAttribute("normal",new z(M,3)),this.setAttribute("uv",new z(j,2));function k(){let t,e=[];const r=new T,n=new T;if(f.geometry.isGeometry===!0){console.error("THREE.DecalGeometry no longer supports THREE.Geometry. Use BufferGeometry instead.");return}const s=f.geometry,A=s.attributes.position,x=s.attributes.normal;if(s.index!==null){const u=s.index;for(t=0;t<u.count;t++)r.fromBufferAttribute(A,u.getX(t)),n.fromBufferAttribute(x,u.getX(t)),E(e,r,n)}else for(t=0;t<A.count;t++)r.fromBufferAttribute(A,t),n.fromBufferAttribute(x,t),E(e,r,n);for(e=p(e,i.set(1,0,0)),e=p(e,i.set(-1,0,0)),e=p(e,i.set(0,1,0)),e=p(e,i.set(0,-1,0)),e=p(e,i.set(0,0,1)),e=p(e,i.set(0,0,-1)),t=0;t<e.length;t++){const u=e[t];j.push(.5+u.position.x/b.x,.5+u.position.y/b.y),u.position.applyMatrix4(O),y.push(u.position.x,u.position.y,u.position.z),M.push(u.normal.x,u.normal.y,u.normal.z)}}function E(t,e,r){e.applyMatrix4(f.matrixWorld),e.applyMatrix4(B),r.transformDirection(f.matrixWorld),t.push(new C(e.clone(),r.clone()))}function p(t,e){const r=[],n=.5*Math.abs(b.dot(e));for(let s=0;s<t.length;s+=3){let A,x,u,P=0,l,m,g,D;const N=t[s+0].position.dot(e)-n,_=t[s+1].position.dot(e)-n,$=t[s+2].position.dot(e)-n;switch(A=N>0,x=_>0,u=$>0,P=(A?1:0)+(x?1:0)+(u?1:0),P){case 0:{r.push(t[s]),r.push(t[s+1]),r.push(t[s+2]);break}case 1:{if(A&&(l=t[s+1],m=t[s+2],g=a(t[s],l,e,n),D=a(t[s],m,e,n)),x){l=t[s],m=t[s+2],g=a(t[s+1],l,e,n),D=a(t[s+1],m,e,n),r.push(g),r.push(m.clone()),r.push(l.clone()),r.push(m.clone()),r.push(g.clone()),r.push(D);break}u&&(l=t[s],m=t[s+1],g=a(t[s+2],l,e,n),D=a(t[s+2],m,e,n)),r.push(l.clone()),r.push(m.clone()),r.push(g),r.push(D),r.push(g.clone()),r.push(m.clone());break}case 2:{A||(l=t[s].clone(),m=a(l,t[s+1],e,n),g=a(l,t[s+2],e,n),r.push(l),r.push(m),r.push(g)),x||(l=t[s+1].clone(),m=a(l,t[s+2],e,n),g=a(l,t[s],e,n),r.push(l),r.push(m),r.push(g)),u||(l=t[s+2].clone(),m=a(l,t[s],e,n),g=a(l,t[s+1],e,n),r.push(l),r.push(m),r.push(g));break}}}return r}function a(t,e,r,n){const s=t.position.dot(r)-n,A=e.position.dot(r)-n,x=s/(s-A);return new C(new T(t.position.x+x*(e.position.x-t.position.x),t.position.y+x*(e.position.y-t.position.y),t.position.z+x*(e.position.z-t.position.z)),new T(t.normal.x+x*(e.normal.x-t.normal.x),t.normal.y+x*(e.normal.y-t.normal.y),t.normal.z+x*(e.normal.z-t.normal.z)))}}}class C{constructor(f,h){this.position=f,this.normal=h}clone(){return new this.constructor(this.position.clone(),this.normal.clone())}}const H=o=>o===Object(o)&&!Array.isArray(o)&&typeof o!="function";function L(o,f){const h=Z(b=>b.gl),d=W(F,H(o)?Object.values(o):o);if(c.useLayoutEffect(()=>{f==null||f(d)},[f]),c.useEffect(()=>{"initTexture"in h&&(Array.isArray(d)?d:[d]).forEach(h.initTexture)},[h,d]),H(o)){const b=Object.keys(o),y={};return b.forEach(M=>Object.assign(y,{[M]:d[b.indexOf(M)]})),y}else return d}L.preload=o=>W.preload(F,o);L.clear=o=>W.clear(F,o);function at(o){return Array.isArray(o)}function S(o=[0,0,0]){return at(o)?o:o instanceof T||o instanceof I?[o.x,o.y,o.z]:[o,o,o]}const it=c.forwardRef(function({debug:f,depthTest:h=!1,polygonOffsetFactor:d=-10,map:b,mesh:y,children:M,position:j,rotation:i,scale:O,...B},k){const E=c.useRef(null);c.useImperativeHandle(k,()=>E.current);const p=c.useRef(null);return c.useLayoutEffect(()=>{const a=(y==null?void 0:y.current)||E.current.parent,t=E.current;if(!(a instanceof q))throw new Error('Decal must have a Mesh as parent or specify its "mesh" prop');const e={position:new T,rotation:new I,scale:new T(1,1,1)};if(a){G(e,{position:j,scale:O});const r=a.matrixWorld.clone();if(a.matrixWorld.identity(),!i||typeof i=="number"){const n=new J;n.position.copy(e.position),n.lookAt(a.position),typeof i=="number"&&n.rotateZ(i),G(e,{rotation:n.rotation})}else G(e,{rotation:i});return t.geometry=new nt(a,e.position,e.rotation,e.scale),p.current&&(G(p.current,e),p.current.traverse(n=>n.raycast=()=>null)),a.matrixWorld=r,()=>{t.geometry.dispose()}}},[y,...S(j),...S(O),...S(i)]),c.createElement("mesh",K({ref:E,"material-transparent":!0,"material-polygonOffset":!0,"material-polygonOffsetFactor":d,"material-depthTest":h,"material-map":b},B),M,f&&c.createElement("mesh",{ref:p},c.createElement("boxGeometry",null),c.createElement("meshNormalMaterial",{wireframe:!0}),c.createElement("axesHelper",null)))}),lt=c.forwardRef(({children:o,enabled:f=!0,speed:h=1,rotationIntensity:d=1,floatIntensity:b=1,floatingRange:y=[-.1,.1],...M},j)=>{const i=c.useRef(null),O=c.useRef(Math.random()*1e4);return Q(B=>{var k,E;if(!f||h===0)return;const p=O.current+B.clock.getElapsedTime();i.current.rotation.x=Math.cos(p/4*h)/8*d,i.current.rotation.y=Math.sin(p/4*h)/8*d,i.current.rotation.z=Math.sin(p/4*h)/20*d;let a=Math.sin(p/4*h)/10;a=v.mapLinear(a,-.1,.1,(k=y==null?void 0:y[0])!==null&&k!==void 0?k:-.1,(E=y==null?void 0:y[1])!==null&&E!==void 0?E:.1),i.current.position.y=a*b,i.current.updateMatrix()}),c.createElement("group",M,c.createElement("group",{ref:Y([i,j]),matrixAutoUpdate:!1},o))}),ut=o=>{const[f]=L([o.imgUrl]);return R(lt,{speed:1.75,rotationIntensity:1,floatIntensity:2,children:[w("ambientLight",{intensity:.25}),w("directionalLight",{position:[0,0,.05]}),R("mesh",{castShadow:!0,receiveShadow:!0,scale:2.75,children:[w("icosahedronGeometry",{args:[1,1]}),w("meshStandardMaterial",{color:"#fff8eb",polygonOffset:!0,polygonOffsetFactor:-5,flatShading:!0}),w(it,{position:[0,0,1],rotation:[2*Math.PI,0,6.25],scale:1,map:f,flatShading:!0})]})]})},ct=({icon:o})=>R(V,{frameloop:"demand",dpr:[1,2],gl:{preserveDrawingBuffer:!0},children:[R(c.Suspense,{fallback:w(tt,{}),children:[w(et,{enableZoom:!1}),w(ut,{imgUrl:o})]}),w(ot,{all:!0})]}),ft=()=>w("div",{className:"flex flex-row flex-wrap justify-center gap-10",children:rt.map(o=>w("div",{className:"w-28 h-28",children:w(ct,{icon:o.icon,color:o.color})},o.name))}),xt=st(ft,"tech");export{xt as default};
//# sourceMappingURL=Tech-71225c60.js.map
