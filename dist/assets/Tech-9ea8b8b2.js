import{v as X,h as j,g as U,aj as z,ak as Z,ac as L,i as W,ad as c,x as J,al as C,am as G,O as q,an as v,ao as K,ap as Q,J as Y,j as R,ae as V,a as w,af as tt}from"./index-a330bde9.js";import{L as et,O as ot}from"./Loader-14430cbd.js";import{t as rt}from"./index-e953b3c5.js";import{S as nt}from"./SectionWrapper-c85421f6.js";import"./styles-bea25d13.js";import"./motion-94373d2a.js";class st extends X{constructor(f,h,d,b){super();const y=[],M=[],T=[],i=new j,O=new U;O.makeRotationFromEuler(d),O.setPosition(h);const B=new U;B.copy(O).invert(),k(),this.setAttribute("position",new z(y,3)),this.setAttribute("normal",new z(M,3)),this.setAttribute("uv",new z(T,2));function k(){let t,e=[];const r=new j,s=new j;if(f.geometry.isGeometry===!0){console.error("THREE.DecalGeometry no longer supports THREE.Geometry. Use BufferGeometry instead.");return}const n=f.geometry,A=n.attributes.position,x=n.attributes.normal;if(n.index!==null){const u=n.index;for(t=0;t<u.count;t++)r.fromBufferAttribute(A,u.getX(t)),s.fromBufferAttribute(x,u.getX(t)),E(e,r,s)}else for(t=0;t<A.count;t++)r.fromBufferAttribute(A,t),s.fromBufferAttribute(x,t),E(e,r,s);for(e=p(e,i.set(1,0,0)),e=p(e,i.set(-1,0,0)),e=p(e,i.set(0,1,0)),e=p(e,i.set(0,-1,0)),e=p(e,i.set(0,0,1)),e=p(e,i.set(0,0,-1)),t=0;t<e.length;t++){const u=e[t];T.push(.5+u.position.x/b.x,.5+u.position.y/b.y),u.position.applyMatrix4(O),y.push(u.position.x,u.position.y,u.position.z),M.push(u.normal.x,u.normal.y,u.normal.z)}}function E(t,e,r){e.applyMatrix4(f.matrixWorld),e.applyMatrix4(B),r.transformDirection(f.matrixWorld),t.push(new H(e.clone(),r.clone()))}function p(t,e){const r=[],s=.5*Math.abs(b.dot(e));for(let n=0;n<t.length;n+=3){let A,x,u,P=0,l,m,g,D;const N=t[n+0].position.dot(e)-s,_=t[n+1].position.dot(e)-s,$=t[n+2].position.dot(e)-s;switch(A=N>0,x=_>0,u=$>0,P=(A?1:0)+(x?1:0)+(u?1:0),P){case 0:{r.push(t[n]),r.push(t[n+1]),r.push(t[n+2]);break}case 1:{if(A&&(l=t[n+1],m=t[n+2],g=a(t[n],l,e,s),D=a(t[n],m,e,s)),x){l=t[n],m=t[n+2],g=a(t[n+1],l,e,s),D=a(t[n+1],m,e,s),r.push(g),r.push(m.clone()),r.push(l.clone()),r.push(m.clone()),r.push(g.clone()),r.push(D);break}u&&(l=t[n],m=t[n+1],g=a(t[n+2],l,e,s),D=a(t[n+2],m,e,s)),r.push(l.clone()),r.push(m.clone()),r.push(g),r.push(D),r.push(g.clone()),r.push(m.clone());break}case 2:{A||(l=t[n].clone(),m=a(l,t[n+1],e,s),g=a(l,t[n+2],e,s),r.push(l),r.push(m),r.push(g)),x||(l=t[n+1].clone(),m=a(l,t[n+2],e,s),g=a(l,t[n],e,s),r.push(l),r.push(m),r.push(g)),u||(l=t[n+2].clone(),m=a(l,t[n],e,s),g=a(l,t[n+1],e,s),r.push(l),r.push(m),r.push(g));break}}}return r}function a(t,e,r,s){const n=t.position.dot(r)-s,A=e.position.dot(r)-s,x=n/(n-A);return new H(new j(t.position.x+x*(e.position.x-t.position.x),t.position.y+x*(e.position.y-t.position.y),t.position.z+x*(e.position.z-t.position.z)),new j(t.normal.x+x*(e.normal.x-t.normal.x),t.normal.y+x*(e.normal.y-t.normal.y),t.normal.z+x*(e.normal.z-t.normal.z)))}}}class H{constructor(f,h){this.position=f,this.normal=h}clone(){return new this.constructor(this.position.clone(),this.normal.clone())}}const I=o=>o===Object(o)&&!Array.isArray(o)&&typeof o!="function";function F(o,f){const h=Z(b=>b.gl),d=L(W,I(o)?Object.values(o):o);if(c.useLayoutEffect(()=>{f==null||f(d)},[f]),c.useEffect(()=>{"initTexture"in h&&(Array.isArray(d)?d:[d]).forEach(h.initTexture)},[h,d]),I(o)){const b=Object.keys(o),y={};return b.forEach(M=>Object.assign(y,{[M]:d[b.indexOf(M)]})),y}else return d}F.preload=o=>L.preload(W,o);F.clear=o=>L.clear(W,o);function at(o){return Array.isArray(o)}function S(o=[0,0,0]){return at(o)?o:o instanceof j||o instanceof C?[o.x,o.y,o.z]:[o,o,o]}const it=c.forwardRef(function({debug:f,depthTest:h=!1,polygonOffsetFactor:d=-10,map:b,mesh:y,children:M,position:T,rotation:i,scale:O,...B},k){const E=c.useRef(null);c.useImperativeHandle(k,()=>E.current);const p=c.useRef(null);return c.useLayoutEffect(()=>{const a=(y==null?void 0:y.current)||E.current.parent,t=E.current;if(!(a instanceof J))throw new Error('Decal must have a Mesh as parent or specify its "mesh" prop');const e={position:new j,rotation:new C,scale:new j(1,1,1)};if(a){G(e,{position:T,scale:O});const r=a.matrixWorld.clone();if(a.matrixWorld.identity(),!i||typeof i=="number"){const s=new q;s.position.copy(e.position),s.lookAt(a.position),typeof i=="number"&&s.rotateZ(i),G(e,{rotation:s.rotation})}else G(e,{rotation:i});return t.geometry=new st(a,e.position,e.rotation,e.scale),p.current&&(G(p.current,e),p.current.traverse(s=>s.raycast=()=>null)),a.matrixWorld=r,()=>{t.geometry.dispose()}}},[y,...S(T),...S(O),...S(i)]),c.createElement("mesh",v({ref:E,"material-transparent":!0,"material-polygonOffset":!0,"material-polygonOffsetFactor":d,"material-depthTest":h,"material-map":b},B),M,f&&c.createElement("mesh",{ref:p},c.createElement("boxGeometry",null),c.createElement("meshNormalMaterial",{wireframe:!0}),c.createElement("axesHelper",null)))}),lt=c.forwardRef(({children:o,enabled:f=!0,speed:h=1,rotationIntensity:d=1,floatIntensity:b=1,floatingRange:y=[-.1,.1],...M},T)=>{const i=c.useRef(null),O=c.useRef(Math.random()*1e4);return K(B=>{var k,E;if(!f||h===0)return;const p=O.current+B.clock.getElapsedTime();i.current.rotation.x=Math.cos(p/4*h)/8*d,i.current.rotation.y=Math.sin(p/4*h)/8*d,i.current.rotation.z=Math.sin(p/4*h)/20*d;let a=Math.sin(p/4*h)/10;a=Y.mapLinear(a,-.1,.1,(k=y==null?void 0:y[0])!==null&&k!==void 0?k:-.1,(E=y==null?void 0:y[1])!==null&&E!==void 0?E:.1),i.current.position.y=a*b,i.current.updateMatrix()}),c.createElement("group",M,c.createElement("group",{ref:Q([i,T]),matrixAutoUpdate:!1},o))}),ut=o=>{const[f]=F([o.imgUrl]);return R(lt,{speed:1.75,rotationIntensity:1,floatIntensity:2,children:[w("ambientLight",{intensity:.25}),w("directionalLight",{position:[0,0,.05]}),R("mesh",{castShadow:!0,receiveShadow:!0,scale:2.75,children:[w("icosahedronGeometry",{args:[1,1]}),w("meshStandardMaterial",{color:"#fff8eb",polygonOffset:!0,polygonOffsetFactor:-5,flatShading:!0}),w(it,{position:[0,0,1],rotation:[2*Math.PI,0,6.25],map:f,flatShading:!0})]})]})},ct=({icon:o})=>R(V,{frameloop:"demand",gl:{preserveDrawingBuffer:!0},children:[R(c.Suspense,{fallback:w(et,{}),children:[w(ot,{enableZoom:!1}),w(ut,{imgUrl:o})]}),w(tt,{all:!0})]}),ft=()=>w("div",{className:"flex flex-row flex-wrap justify-center gap-10",children:rt.map(o=>w("div",{className:"w-28 h-28",children:w(ct,{icon:o.icon,color:o.color})},o.name))}),bt=nt(ft,"tech");export{bt as default};
//# sourceMappingURL=Tech-9ea8b8b2.js.map
